# ntfy-hub-mcp

`ntfy-hub-mcp` は、`ntfy.sh` を介して AI エージェントと人間の間の非同期通信を可能にする MCP (Model Context Protocol) サーバーです。
このツールは Go 言語で実装されており、エージェントはユーザーへの通知を送信したり、ユーザーからの指示を待機したりすることができます。

これにより、AI エージェントは以下のようなタスクを実行できます。

- 長時間かかる処理の完了をユーザーに通知する。
- ユーザーの承認が必要な場合に、作業を一時停止して指示を待つ。
- 緊急性の高い情報をユーザーのデバイスに直接プッシュ通知として送信する。

## 特徴

- Go 言語による軽量かつ高パフォーマンスな実装
- MCP (Model Context Protocol) 準拠
- `ntfy.sh` の自前サーバー (セルフホスト) に対応
- AI エージェントからの通知 (`ntfy_publish`) と指示の受信 (`ntfy_wait_for_reply`) をサポート
- `go-task` を使用したビルド、テスト、実行の自動化
- `cospec` にインスパイアされたドキュメント構成

## 使い方

詳細なセットアップ方法や使用例については、`docs/USAGE.md` を参照してください。

## 開発

### ビルド

```bash
task build
```

### テスト

```bash
task test
```

### 実行

```bash
task run
```

### クリーン

```bash
task clean
```

### 環境変数

`ntfy-hub-mcp` は以下の環境変数をサポートします。

- `NTFY_URL`: ntfy サーバーのベース URL (デフォルト: `https://ntfy.sh`)
- `NTFY_TOPIC_OUT`: エージェントから人間への通知用デフォルトトピック (デフォルト: `agent-output`)
- `NTFY_TOPIC_IN`: 人間からエージェントへの指示用デフォルトトピック (デフォルト: `agent-input`)

## ライセンス

このプロジェクトは MIT ライセンスの下で公開されています。詳細については `LICENSE` ファイルを参照してください。
